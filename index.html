<!DOCTYPE html>
<html lang="en" style="height:100%" xmlns:v-bind="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>一张网地图展示</title>
    <link rel="stylesheet" href="assets/css/font-awesome.css" type="text/css">
    <link rel="stylesheet" href="assets/css/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="assets/css/bootstrap-dialog.min.css" type="text/css">
    <link rel="stylesheet" href="http://60.29.110.104/arcgis_js_api/library/3.15/3.15compact/esri/css/esri.css">
    <link rel="stylesheet" href="http://60.29.110.104/arcgis_js_api/library/3.15/3.15compact/dijit/themes/claro/claro.css">

    <link rel="stylesheet" href="assets/css/jquery.mCustomScrollbar.css" type="text/css">
    <link rel="stylesheet" href="scripts/modules/infoWindow/InfoWindow.css" type="text/css">

    <link rel="stylesheet" href="assets/css/style.css" type="text/css">
    <style type="text/css">
        #mapDiv {
            min-height: 100px;
            max-height: 2000px;
        }
    </style>
</head>
<body  class="claro" style="height:100%;">
<div id="pageloader" class="dark-div"
     style="position: fixed; top: 0px; left: 0px; width: 100%; height: 100%; z-index: 99999; display1: none; background: rgba(23, 155, 215 , .8);">
    <div class="spinner">
        <div class="cube1"></div>
        <div class="cube2"></div>
    </div>
    <div style="text-align:center;margin-top:10%;font-size:50px;color:#fff">空港 一张网地图展示</div>
</div>
<div id="outerwrap" style="height:100%">
    <div id="mainwrap" style="height:100%" {{sidecollapsed}} v-bind:class="{ 'sidecollapsed': sideCollapsed}">

        <div id="mapPanel" style="position: relative;height:100%">
            <div id="heatLayer"></div>
            <div id="mapDiv" style="height:100%;width:100%"></div>
            <!--bottom menu start-->
            <div class="bmenu text-center" id="bottomBar">
                <ul class="nav navbar-nav">
                    <li v-for="menu in menus">
                        <a href="#" data-modaltarget1="{{menu.modal}}" @click="openModal(menu)">
                            <i class="fa {{menu.icon}}"></i>
                            <p>{{menu.text}}</p>
                        </a>
                    </li>
                </ul>
                <div class="navbar-right" style="margin-right:0;line-height:65px;padding-right:15px;">
                    <a href="#"><i class="fa fa-home" style="font-size:24px"></i></a>
                    <i class="fa fa-home" style="font-size:24px"></i>
                </div>
            </div>
            <!--bottom menu end-->

            <!--图例-->
            <div id="toptools">
                <div class="tool dropdown" id="maptype">
                    <a data-toggle="dropdown" style="background:#fff">
                        <i class="fa fa-map-marker"></i>
                        地图类别
                        <i class="fa fa-caret-down"></i>
                    </a>

                    <div class="dropdown-menu dropdown-menu-right">
                        <div id="basemapGallery"></div>
                    </div>

                </div>
                <div class="tool">
                    <a href="#" id="sidepanel-togglemenu" @click="toggle"><i class="fa fa-indent"></i></a>
                </div>
            </div>

            <div id="BasemapToggle"></div>

            <div id="XYinfo" style="background-color: transparent; font-weight: normal; font-size: smaller;color:#3C7AFF; position: absolute; padding: 2px; left: 140px; bottom: 65px; z-index: 99;"></div>

        </div>
        <div id="sidepanel">
            <div class='bg-primary' style="position:fixed;padding:10px 20px;box-shadow: 1px 1px 1px rgba(0,0,0,.15);z-index:300">

                <div class="input-group">
                    <div class="input-group-btn">
                        <button type="button" class="btn btn-default dropdown-toggle"
                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">关键字查询 <span class="caret"></span></button>
                        <ul class="dropdown-menu">
                            <li><a href="#">关键字查询</a></li>
                            <li><a href="#">病害类别</a></li>
                            <li><a href="#">危险品</a></li>
                            <li role="separator" class="divider"></li>
                            <li><a href="#">其他</a></li>
                        </ul>
                    </div>
                    <input type="text" class="form-control" id="searchText" v-model="keyword">
                    <span class="input-group-btn">
                        <button class="btn btn-default" type="button" id="findBtn" @click="search">
                            <i class="fa fa-search"></i>
                        </button>
                    </span>
                </div>
            </div>

            <div id="sidecontent" class="mCustomScrollbar" data-mcs-theme="minimal-dark">
                <div class="list-group" id="contentsContainer">
                    <a class='list-group-item' v-for="item in result" @click="">{{item.value}}</a>
                </div>
            </div>

        </div>
    </div>
</div>


<div class="dijitHidden">
    <!-- dialog that gets its content via ajax, uses loading message -->
    <div data-dojo-type="dijit/Dialog"
         style="width:300px;height:300px;background:#Fff"
         data-dojo-props="title:'事件地点定位',href:'scripts/views/modal1.html',loadingMessage:'Loading dialog content...'"
         id="modal1"></div>

    <div data-dojo-type="dijit/Dialog"
         style="width:400px;height:300px;background:#Fff"
         data-dojo-props="title:'范围确定',href:'scripts/views/modal2.html',loadingMessage:'Loading dialog content...'"
         id="modal2"></div>

    <div data-dojo-type="dijit/Dialog"
         style="width:400px;height:400px;background:#Fff"
         data-dojo-props="title:'公共影响因素分析',href:'scripts/views/modal3.html',loadingMessage:'Loading dialog content...'"
         id="modal3"></div>
</div>
<script>
    var dojoConfig={
        parseOnLoad:true ,
        //配置多个自定义modules的方法
        packages: [{
            "name":"myModules" ,
            "location":location.pathname.replace(/\/[^/]+$/ , "")+"/scripts/modules"
        }, {
            "name": 'bism',
            "location": location.pathname.replace(/\/[^/]+$/ , "")+"/scripts/modules"
        }]
    };
</script>

<script type="text/javascript" src="assets/scripts/vue.js"></script>
<script type="text/javascript" src="assets/scripts/jquery.min.js"></script>
<script type="text/javascript" src="assets/scripts/bootstrap.min.js"></script>
<script type="text/javascript" src="assets/scripts/owl.carousel.min.js"></script>
<script type="text/javascript" src="assets/scripts/jquery.mCustomScrollbar.concat.min.js"></script>
<script type="text/javascript" src="assets/scripts/bootstrap-dialog.js"></script>

<script type="text/javascript" src="scripts/golbal.js"></script>
<script type="text/javascript" src="http://60.29.110.104/arcgis_js_api/library/3.15/3.15compact/init.js"></script>
<script type="text/javascript" src="scripts/modules/heatmap.js"></script>
<script type="text/javascript" src="scripts/vue/mainWrap.js"></script>
<script type="text/javascript" src="scripts/vue/query.js"></script>
<script type="text/javascript" src="scripts/vue/bottomBar.js"></script>
<script type="text/javascript" src="scripts/vue/modal1.js"></script>
<script type="text/javascript" src="scripts/vue/modal2.js"></script>
<script type="text/javascript" src="scripts/vue/modal3.js"></script>

<script src="scripts/init.js"></script>
<script type="text/javascript" src="scripts/requireDojo.js"></script>

</body>
</html>